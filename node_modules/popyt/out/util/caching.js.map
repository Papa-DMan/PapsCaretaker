{"version":3,"sources":["../src/util/caching.ts"],"names":[],"mappings":";;;AAAA;;GAEG;AACH,MAAa,KAAK;IAGT,MAAM,CAAC,GAAG,CAAE,IAAqB,EAAE,KAAU,EAAE,GAAW;QAC/D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAA;IACzC,CAAC;IAEM,MAAM,CAAC,GAAG,CAAE,IAAqB;QACtC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;QAE7B,IAAI,IAAI,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;YACxE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;YAClB,OAAO,SAAS,CAAA;SACjB;QAED,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;IAC3B,CAAC;IAEM,MAAM,CAAC,SAAS;QACrB,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,KAAK,EAAE;YACjC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;YACjC,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAA;YAEjC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE;gBACf,OAAM;aACP;YAED,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,EAAE;gBAClB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;aAC5B;SACF;IACH,CAAC;IAEM,MAAM,CAAC,OAAO,CAAE,IAAqB;QAC1C,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;QAE7B,IAAI,CAAC,IAAI,EAAE;YACT,OAAM;SACP;QAED,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;IACzB,CAAC;;AAzCH,sBA0CC;AAzCgB,WAAK,GAAiC,EAAE,CAAA","file":"caching.js","sourcesContent":["/**\n * @ignore\n */\nexport class Cache {\n  private static cache: { [key: string]: CacheItem } = {}\n\n  public static set (name: string | number, value: any, ttl: number) {\n    this.cache[name] = { v: value, t: ttl }\n  }\n\n  public static get (name: string | number): any {\n    const item = this.cache[name]\n\n    if (item === undefined || (item.t > 0 && new Date().getTime() >= item.t)) {\n      this._delete(name)\n      return undefined\n    }\n\n    return this.cache[name].v\n  }\n\n  public static checkTTLs () {\n    for (const itemName in this.cache) {\n      const item = this.cache[itemName]\n      const time = new Date().getTime()\n\n      if (item.t <= 0) {\n        return\n      }\n\n      if (time >= item.t) {\n        delete this.cache[itemName]\n      }\n    }\n  }\n\n  public static _delete (name: string | number) {\n    const item = this.cache[name]\n\n    if (!item) {\n      return\n    }\n\n    delete this.cache[name]\n  }\n}\n\n/**\n * @ignore\n */\ntype CacheItem = {\n  v: any\n  t: number\n}\n"],"sourceRoot":"../../src"}