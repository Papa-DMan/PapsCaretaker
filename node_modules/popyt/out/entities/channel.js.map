{"version":3,"sources":["../src/entities/channel.ts"],"names":[],"mappings":"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","file":"channel.js","sourcesContent":["import { YouTube, Playlist, Thumbnail, Banners, YTComment, Subscription, ChannelSection, ChannelBrandingSettings } from '..'\n\n/**\n * A YouTube channel.\n */\nexport class Channel {\n  /**\n   * The name of the endpoint used for this entity.\n   */\n  public static endpoint = 'channels'\n\n  /**\n   * The parts to request for this entity.\n   */\n  public static part = 'snippet,contentDetails,statistics,status,brandingSettings'\n\n  /**\n   * The fields to request for this entity.\n   */\n  public static fields = 'items(kind,id,contentDetails(relatedPlaylists(uploads)),statistics(subscriberCount,commentCount,viewCount,hiddenSubscriberCount),' +\n    'snippet(title,description,thumbnails,publishedAt,country,defaultLanguage),brandingSettings(image,channel(keywords,featuredChannelsUrls)),' +\n    'status(isLinked,madeForKids,selfDeclaredMadeForKids))'\n\n  /**\n   * The YouTube object that created this channel object.\n   */\n  public youtube: YouTube\n\n  /**\n   * Whether or not this a full channel object.\n   */\n  public full: boolean\n\n  /**\n   * The raw data of this channel.\n   */\n  public data: any\n\n  /**\n   * The name of this channel.\n   */\n  public name: string\n\n  /**\n   * The description of this channel.\n   */\n  public about: string\n\n  /**\n   * The ID of this channel.\n   */\n  public id: string\n\n  /**\n   * The country this channel is based in.\n   */\n  public country: string\n\n  /**\n   * The url of the channel.\n   */\n  public url: string\n\n  /**\n   * This channel's custom URL, if they have one.\n   */\n  public customUrl: string\n\n  /**\n   * This channel's profile pictures.\n   */\n  public profilePictures: {\n    default?: Thumbnail\n    high?: Thumbnail\n    maxres?: Thumbnail\n    medium?: Thumbnail\n    standard?: Thumbnail\n  }\n\n  /**\n   * This channel's banners.\n   * @deprecated See https://developers.google.com/youtube/v3/docs/channels#brandingSettings.image\n   */\n  public banners: Banners\n\n  /**\n   * The date this channel was created.\n   */\n  public dateCreated: Date\n\n  /**\n   * The default language for this channel's uploads.\n   */\n  public language: string\n\n  /**\n   * This channel's view count.\n   */\n  public views: number\n\n  /**\n   * This channel's keywords.\n   */\n  public keywords: string[]\n\n  /**\n   * The channel's uploads. Only available after calling `Channel#fetchVideos()`\n   */\n  public videos: Playlist\n\n  /**\n   * The number of subscribers this channel has. `-1` if the subcount is hidden.\n   */\n  public subCount: number\n\n  /**\n   * This channel's comment count.\n   * @deprecated See https://developers.google.com/youtube/v3/docs/channels#statistics.commentCount\n   */\n  public commentCount: number\n\n  /**\n   * The channel's comments. Only defined when `Channel#fetchComments` is called.\n   */\n  public comments: YTComment[]\n\n  /**\n   * The URLs of all of this channel's featured channels. This property is broken for some channels.\n   */\n  /* istanbul ignore next */\n  public featuredChannels: string[]\n\n  /**\n   * The channel's playlists. Only defined when `Channel#fetchPlaylists` is called.\n   */\n  public playlists: Playlist[]\n\n  /**\n   * The channel's subscriptions. Only defined when `Channel#fetchSubscriptions` is called.\n   */\n  public subscriptions: Subscription[]\n\n  /**\n   * The channel's sections. Only defined when [[Channel#fetchSections]] is called.\n   */\n  public sections: ChannelSection[]\n\n  /**\n   * Only set if the channel is a search result.\n   *\n   * If the channel has an ongoing livestream, this is `live`.\n   * If the channel has an upcoming livestream, this is `upcoming`.\n   * If the channel has neither an ongoing nor upcoming livestream, this is `false`.\n   */\n  public liveStatus: 'live' | 'upcoming' | false\n\n  /**\n   * Properties to do with videos made for children.\n   */\n  public kids: {\n    /**\n     * Whether or not the channel is made for children.\n     */\n    madeForKids: boolean\n\n    /**\n     * Whether or not the owner of the channel marked it as made for kids.\n     */\n    selfDeclaredMadeForKids: boolean\n  }\n\n  constructor (youtube: YouTube, data: any) {\n    this.youtube = youtube\n    this.data = data\n\n    this._init(data)\n  }\n\n  /**\n   * @ignore\n   */\n  private _init (data: any) {\n    /* istanbul ignore next */\n    if (data.kind === 'youtube#channel' && (!data.status || data.status.isLinked)) {\n      const channel = data\n\n      this.id = channel.id\n\n      /* istanbul ignore next */\n      if (channel.snippet) {\n        this.country = channel.snippet.country\n        this.language = channel.snippet.defaultLanguage\n      } else {\n        this.full = false\n      }\n\n      /* istanbul ignore next */\n      if (channel.statistics) {\n        this.views = Number(channel.statistics.viewCount)\n        this.commentCount = Number(channel.statistics.commentCount)\n\n        if (!channel.statistics.hiddenSubscriberCount) {\n          this.subCount = Number(channel.statistics.subscriberCount)\n        } else {\n          this.subCount = -1\n        }\n      } else {\n        this.full = false\n      }\n\n      if (channel.status) {\n        this.kids = {\n          madeForKids: channel.status.madeForKids,\n          selfDeclaredMadeForKids: channel.status.selfDeclaredMadeForKids\n        }\n      } else {\n        this.full = false\n      }\n\n      /* istanbul ignore next */\n      if (channel.brandingSettings) {\n        this.banners = channel.brandingSettings.image\n\n        // Unknown behavior\n        /* istanbul ignore next */\n        if (channel.brandingSettings.channel) {\n          this.keywords = []\n\n          if (channel.brandingSettings.channel.keywords) {\n            // Split by spaces but keep quotations intact\n            const broken: string[] = channel.brandingSettings.channel.keywords.split(/( )(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/i)\n\n            for (let i = 0; i < broken.length; i++) {\n              if (i % 2 === 0) {\n                this.keywords.push(broken[i].replace(/(^\"|\"$)/gi, ''))\n              }\n            }\n          }\n\n          // Broken for many channels\n          /* istanbul ignore next */\n          this.featuredChannels = channel.brandingSettings.channel.featuredChannelsUrls ?\n            channel.brandingSettings.channel.featuredChannelsUrls.map(id => `https://www.youtube.com/channel/${id}`) : []\n        }\n      } else {\n        this.full = false\n      }\n    } else if (data.kind === 'youtube#searchResult') {\n      this.full = false\n      this.id = data.id.channelId\n\n      /* istanbul ignore next */\n      if (data.snippet) {\n        // Impossible to test\n        /* istanbul ignore next */\n        this.liveStatus = data.snippet.liveBroadcastContent !== 'none' ? data.snippet.liveBroadcastContent : false\n      }\n    } else {\n      throw new Error(`Invalid channel type: ${data.kind}`)\n    }\n\n    /* istanbul ignore next */\n    if (data.snippet) {\n      this.profilePictures = data.snippet.thumbnails\n      this.dateCreated = new Date(data.snippet.publishedAt)\n      this.name = data.snippet.title\n      this.about = data.snippet.description\n    } else {\n      this.full = false\n    }\n\n    this.url = `https://youtube.com/channel/${this.id}`\n  }\n\n  /**\n   * Posts a comment on the channel's discussion tab.\n   * Must be using an access token with correct scopes.\n   * @param text The text of the comment.\n   */\n  /* istanbul ignore next */\n  public async postComment (text: string) {\n    const comment = await this.youtube.oauth.postComment(text, this.id)\n\n    if (this.comments !== undefined) {\n      this.comments.push(comment)\n    } else {\n      this.comments = [ comment ]\n    }\n\n    return comment\n  }\n\n  /**\n   * Fetches this channel and reassigns this object to the new channel object.\n   * Only useful if `this.full` is false, or if you want updated channel info.\n   */\n  public async fetch () {\n    const channel = await this.youtube.getChannel(this.id)\n    return Object.assign(this, channel)\n  }\n\n  /**\n   * Fetches the channel's videos and assigns them to the `Channel#videos` property.\n   */\n  public async fetchVideos () {\n    if (!(this.data.contentDetails)) {\n      await this.fetch()\n    }\n\n    const videos = await this.youtube.getPlaylist(this.data.contentDetails.relatedPlaylists.uploads)\n    this.videos = videos\n\n    return this.videos\n  }\n\n  /**\n   * Fetches the channel's discussion tab comments and assigns them to Channel#comments.\n   * @param maxResults The maximum amount of comments to fetch\n   */\n  public async fetchComments (maxResults: number = 10) {\n    this.comments = await this.youtube.getChannelComments(this.id, maxResults)\n    return this.comments\n  }\n\n  /**\n   * Fetches the channel's playlists and assigns them to Channel#playlists.\n   * @param maxResults The maximum amount of playlists to fetch\n   */\n  public async fetchPlaylists (maxResults: number = 10) {\n    this.playlists = await this.youtube.getChannelPlaylists(this.id, maxResults)\n    return this.playlists\n  }\n\n  /**\n   * Fetches the channel's subscriptions and assigns them to Channel#subscriptions.\n   * @param maxResults The maximum amount of subscriptions to fetch\n   */\n  /* istanbul ignore next */\n  public async fetchSubscriptions (maxResults: number = 10) {\n    this.subscriptions = await this.youtube.getChannelSubscriptions(this.id, maxResults)\n    return this.subscriptions\n  }\n\n  /**\n   * Fetches the channel's sections and assigns them to [[Channel#sections]].\n   */\n  public async fetchSections () {\n    this.sections = await this.youtube.getChannelSections(this.id)\n    return this.sections\n  }\n\n  /**\n   * Subscribes to the channel.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public subscribe () {\n    return this.youtube.oauth.subscribeToChannel(this.id)\n  }\n\n  /**\n   * Unsubscribes from the channel.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public unsubscribe () {\n    return this.youtube.oauth.unsubscribeFromChannel(this.id)\n  }\n\n  /**\n   * Updates the channel's branding settings.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public updateBranding (branding: ChannelBrandingSettings) {\n    return this.youtube.oauth.updateChannelBranding(this.id, branding)\n  }\n\n  /**\n   * Updates the channel's localizations.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public updateLocalizations (localizations: { [key: string]: { title: string; description: string } }) {\n    return this.youtube.oauth.updateChannelLocalizations(this.id, localizations)\n  }\n\n  /**\n   * Sets whether or not the channel is made for kids.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public setMadeForKids (madeForKids: boolean) {\n    return this.youtube.oauth.setChannelMadeForKids(this.id, madeForKids)\n  }\n\n  /**\n   * Sets the channel's watermark.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public setWatermark (type: 'fromStart' | 'fromEnd', offset: number, duration: number, image: Buffer, imageType: 'png' | 'jpeg') {\n    return this.youtube.oauth.setChannelWatermark(this.id, type, offset, duration, image, imageType)\n  }\n\n  /**\n   * Unsets the channel's watermark.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public unsetWatermark () {\n    return this.youtube.oauth.unsetChannelWatermark(this.id)\n  }\n\n  /**\n   * Uploads and sets the channel's banner.\n   * Must be using an access token with correct scopes.\n   */\n  /* istanbul ignore next */\n  public async setBanner (image: { data: Buffer; type: 'png' | 'jpeg' }) {\n    if (!this.data.brandingSettings) {\n      await this.fetch()\n    }\n\n    if (!this.data.brandingSettings) {\n      return Promise.reject('Unable to fetch channel branding settings')\n    }\n\n    if (!this.data.brandingSettings.image) {\n      this.data.brandingSettings.image = {}\n    }\n\n    this.data.brandingSettings.image.bannerExternalUrl = await this.youtube.oauth.uploadChannelBanner(image)\n    return this.youtube.oauth.updateChannelBranding(this.id, this.data.brandingSettings)\n  }\n}\n"],"sourceRoot":"../../src"}