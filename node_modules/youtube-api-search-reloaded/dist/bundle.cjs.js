"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var url=require("url");function unfetch(e,r){return r=r||{},new Promise((function(t,n){var s=new XMLHttpRequest,o=[],u=[],a={},c=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var i in s.open(r.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,r,t){o.push(r=r.toLowerCase()),u.push([r,t]),a[r]=a[r]?a[r]+","+t:t})),t(c())},s.onerror=n,s.withCredentials="include"==r.credentials,r.headers)s.setRequestHeader(i,r.headers[i]);s.send(r.body||null)}))}var unfetch$1=Object.freeze({__proto__:null,default:unfetch});function getCjsExportFromNamespace(e){return e&&e.default||e}var require$$0=getCjsExportFromNamespace(unfetch$1),browser=window.fetch||(window.fetch=require$$0.default||require$$0);const ROOT_URL="https://www.googleapis.com/youtube/v3/search",youtubeSearch=(e={})=>new Promise((r,t)=>{e.key&&e.term&&e.part&&e.type||t(new Error("Please make sure that the required fields are inserted"));const n=new url.URL(ROOT_URL);n.search=new url.URLSearchParams(e),browser(n.href).then(e=>r(e.json())).catch(t)});exports.ROOT_URL=ROOT_URL,exports.default=youtubeSearch,exports.youtubeSearch=youtubeSearch;
